{"ast":null,"code":"var _jsxFileName = \"/Users/strawberrypompey/myspace/react/game/frontend/src/routes/Game/Game.js\";\nimport \"./style.css\";\nimport React, { Component, Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Board from \"../../components/Board/Board\";\nimport PlayerInfo from \"../../components/Playerinfo/PlayerInfo\";\nimport History from \"../../components/History/History\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Game extends Component {\n  constructor() {\n    super(...arguments);\n\n    this.handleClickSquare = (position, info) => {\n      if (info === null) {\n        const newHistory = [...this.props.history, {\n          stepCount: this.props.stepCount,\n          player: this.props.currentPlayer,\n          position: position\n        }];\n        this.props.updateGame();\n        ({\n          history: newHistory,\n          stepCount: this.props.stepCount + 1,\n          squares: this.calcSquare(newHistory, this.props.stepCount + 1)\n        });\n      }\n    };\n  }\n\n  calcSquare(history, stepCount) {\n    const newSquare = new Array(9).fill(null);\n\n    for (let i = 0; i < stepCount; i++) {\n      let curHistory = history[i];\n      newSquare[curHistory.position] = curHistory.player;\n    }\n\n    return newSquare;\n  }\n\n  render() {\n    const curPlayer = this.getCurrentPlayer();\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"leftPanel\",\n          children: /*#__PURE__*/_jsxDEV(Board, {\n            squares: this.props.squares,\n            def: this.props.handleClickSquare\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rightPanel\",\n          children: [/*#__PURE__*/_jsxDEV(PlayerInfo, {\n            curPlayer: curPlayer\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(History, {\n            history: this.props.history\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: \"Exit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/again\",\n            children: \"Play again\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Game;","map":{"version":3,"names":["React","Component","Fragment","Link","Board","PlayerInfo","History","Game","handleClickSquare","position","info","newHistory","props","history","stepCount","player","currentPlayer","updateGame","squares","calcSquare","newSquare","Array","fill","i","curHistory","render","curPlayer","getCurrentPlayer"],"sources":["/Users/strawberrypompey/myspace/react/game/frontend/src/routes/Game/Game.js"],"sourcesContent":["import \"./style.css\";\nimport React, { Component, Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Board from \"../../components/Board/Board\";\nimport PlayerInfo from \"../../components/Playerinfo/PlayerInfo\";\nimport History from \"../../components/History/History\";\n\nclass Game extends Component {\n  handleClickSquare = (position, info) => {\n    if (info === null) {\n      const newHistory = [\n        ...this.props.history,\n        {\n          stepCount: this.props.stepCount,\n          player: this.props.currentPlayer,\n          position: position,\n        },\n      ];\n\n      this.props.updateGame();\n      ({\n        history: newHistory,\n        stepCount: this.props.stepCount + 1,\n        squares: this.calcSquare(newHistory, this.props.stepCount + 1),\n      });\n    }\n  };\n\n  calcSquare(history, stepCount) {\n    const newSquare = new Array(9).fill(null);\n    for (let i = 0; i < stepCount; i++) {\n      let curHistory = history[i];\n      newSquare[curHistory.position] = curHistory.player;\n    }\n    return newSquare;\n  }\n  render() {\n    const curPlayer = this.getCurrentPlayer();\n    return (\n      <Fragment>\n        <div className=\"App\">\n          <div className=\"leftPanel\">\n            <Board\n              squares={this.props.squares}\n              def={this.props.handleClickSquare}\n            />\n          </div>\n          <div className=\"rightPanel\">\n            <PlayerInfo curPlayer={curPlayer} />\n            <History history={this.props.history} />\n          </div>\n        </div>\n        <div className=\"button\">\n          <button>\n            <Link to=\"/\">Exit</Link>\n          </button>\n          <button>\n            <Link to=\"/again\">Play again</Link>\n          </button>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Game;\n"],"mappings":";AAAA,OAAO,aAAP;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,8BAAlB;AACA,OAAOC,UAAP,MAAuB,wCAAvB;AACA,OAAOC,OAAP,MAAoB,kCAApB;;;AAEA,MAAMC,IAAN,SAAmBN,SAAnB,CAA6B;EAAA;IAAA;;IAAA,KAC3BO,iBAD2B,GACP,CAACC,QAAD,EAAWC,IAAX,KAAoB;MACtC,IAAIA,IAAI,KAAK,IAAb,EAAmB;QACjB,MAAMC,UAAU,GAAG,CACjB,GAAG,KAAKC,KAAL,CAAWC,OADG,EAEjB;UACEC,SAAS,EAAE,KAAKF,KAAL,CAAWE,SADxB;UAEEC,MAAM,EAAE,KAAKH,KAAL,CAAWI,aAFrB;UAGEP,QAAQ,EAAEA;QAHZ,CAFiB,CAAnB;QASA,KAAKG,KAAL,CAAWK,UAAX;QACA,CAAC;UACCJ,OAAO,EAAEF,UADV;UAECG,SAAS,EAAE,KAAKF,KAAL,CAAWE,SAAX,GAAuB,CAFnC;UAGCI,OAAO,EAAE,KAAKC,UAAL,CAAgBR,UAAhB,EAA4B,KAAKC,KAAL,CAAWE,SAAX,GAAuB,CAAnD;QAHV,CAAD;MAKD;IACF,CAnB0B;EAAA;;EAqB3BK,UAAU,CAACN,OAAD,EAAUC,SAAV,EAAqB;IAC7B,MAAMM,SAAS,GAAG,IAAIC,KAAJ,CAAU,CAAV,EAAaC,IAAb,CAAkB,IAAlB,CAAlB;;IACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,SAApB,EAA+BS,CAAC,EAAhC,EAAoC;MAClC,IAAIC,UAAU,GAAGX,OAAO,CAACU,CAAD,CAAxB;MACAH,SAAS,CAACI,UAAU,CAACf,QAAZ,CAAT,GAAiCe,UAAU,CAACT,MAA5C;IACD;;IACD,OAAOK,SAAP;EACD;;EACDK,MAAM,GAAG;IACP,MAAMC,SAAS,GAAG,KAAKC,gBAAL,EAAlB;IACA,oBACE,QAAC,QAAD;MAAA,wBACE;QAAK,SAAS,EAAC,KAAf;QAAA,wBACE;UAAK,SAAS,EAAC,WAAf;UAAA,uBACE,QAAC,KAAD;YACE,OAAO,EAAE,KAAKf,KAAL,CAAWM,OADtB;YAEE,GAAG,EAAE,KAAKN,KAAL,CAAWJ;UAFlB;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QADF,eAOE;UAAK,SAAS,EAAC,YAAf;UAAA,wBACE,QAAC,UAAD;YAAY,SAAS,EAAEkB;UAAvB;YAAA;YAAA;YAAA;UAAA,QADF,eAEE,QAAC,OAAD;YAAS,OAAO,EAAE,KAAKd,KAAL,CAAWC;UAA7B;YAAA;YAAA;YAAA;UAAA,QAFF;QAAA;UAAA;UAAA;UAAA;QAAA,QAPF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAaE;QAAK,SAAS,EAAC,QAAf;QAAA,wBACE;UAAA,uBACE,QAAC,IAAD;YAAM,EAAE,EAAC,GAAT;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QADF,eAIE;UAAA,uBACE,QAAC,IAAD;YAAM,EAAE,EAAC,QAAT;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QAJF;MAAA;QAAA;QAAA;QAAA;MAAA,QAbF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAwBD;;AAvD0B;;AA0D7B,eAAeN,IAAf"},"metadata":{},"sourceType":"module"}