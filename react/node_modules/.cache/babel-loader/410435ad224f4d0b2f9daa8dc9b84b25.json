{"ast":null,"code":"var _jsxFileName = \"/Users/strawberrypompey/myspace/react/game/frontend/src/routes/Game/Game.js\";\nimport \"./style.css\";\nimport React, { Component, Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Board from \"../../components/Board/Board\";\nimport PlayerInfo from \"../../components/Playerinfo/PlayerInfo\";\nimport History from \"../../components/History/History\";\nimport { UPDATE_GAME, getAction, RESET_DATA } from \"../../redux/actions/actions\";\nimport { connect } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Game extends Component {\n  componentDidUpdate() {\n    if (this.props.over.result) {\n      alert(\"胜利者是：\" + this.props.over.winner);\n      this.props.resetStore();\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"leftPanel\",\n          children: /*#__PURE__*/_jsxDEV(Board, {\n            squares: this.props.squares,\n            def: this.props.handleClickSquare\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rightPanel\",\n          children: [/*#__PURE__*/_jsxDEV(PlayerInfo, {\n            curPlayer: this.props.currentPlayer,\n            username: this.props.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(History, {\n            history: this.props.history\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: \"Exit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            onClick: this.props.resetStore,\n            to: \"/again\",\n            children: \"Play again\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    squares: state.reducerGame.squares,\n    stepCount: state.reducerGame.stepCount,\n    history: state.reducerGame.history,\n    currentPlayer: state.reducerGame.stepCount % 2 === 0 ? \"X\" : \"O\",\n    over: state.reducerGame.over,\n    username: state.reducerLogin.username\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleClickSquare: (param1, param2) => dispatch(getAction(UPDATE_GAME, param1, param2)),\n    resetStore: () => dispatch(getAction(RESET_DATA, null, null))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Game);","map":{"version":3,"names":["React","Component","Fragment","Link","Board","PlayerInfo","History","UPDATE_GAME","getAction","RESET_DATA","connect","Game","componentDidUpdate","props","over","result","alert","winner","resetStore","render","squares","handleClickSquare","currentPlayer","username","history","mapStateToProps","state","reducerGame","stepCount","reducerLogin","mapDispatchToProps","dispatch","param1","param2"],"sources":["/Users/strawberrypompey/myspace/react/game/frontend/src/routes/Game/Game.js"],"sourcesContent":["import \"./style.css\";\nimport React, { Component, Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Board from \"../../components/Board/Board\";\nimport PlayerInfo from \"../../components/Playerinfo/PlayerInfo\";\nimport History from \"../../components/History/History\";\nimport {\n  UPDATE_GAME,\n  getAction,\n  RESET_DATA,\n} from \"../../redux/actions/actions\";\nimport { connect } from \"react-redux\";\nclass Game extends Component {\n  componentDidUpdate() {\n    if (this.props.over.result) {\n      alert(\"胜利者是：\" + this.props.over.winner);\n      this.props.resetStore();\n    }\n  }\n  render() {\n    return (\n      <Fragment>\n        <div className=\"App\">\n          <div className=\"leftPanel\">\n            <Board\n              squares={this.props.squares}\n              def={this.props.handleClickSquare}\n            />\n          </div>\n          <div className=\"rightPanel\">\n            <PlayerInfo\n              curPlayer={this.props.currentPlayer}\n              username={this.props.username}\n            />\n            <History history={this.props.history} />\n          </div>\n        </div>\n        <div className=\"button\">\n          <button>\n            <Link to=\"/\">Exit</Link>\n          </button>\n          <button>\n            <Link onClick={this.props.resetStore} to=\"/again\">\n              Play again\n            </Link>\n          </button>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    squares: state.reducerGame.squares,\n    stepCount: state.reducerGame.stepCount,\n    history: state.reducerGame.history,\n    currentPlayer: state.reducerGame.stepCount % 2 === 0 ? \"X\" : \"O\",\n    over: state.reducerGame.over,\n    username: state.reducerLogin.username,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    handleClickSquare: (param1, param2) =>\n      dispatch(getAction(UPDATE_GAME, param1, param2)),\n    resetStore: () => dispatch(getAction(RESET_DATA, null, null)),\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Game);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}